# 🛡️ 신한은행 상담원 정서 보호 시스템

**실시간 음성 분석을 통한 상담원 정서 보호 및 고객 경험 개선 서비스**

## 📋 서비스 개요

신한은행 지점 내 상담원들이 고객의 폭언이나 무례한 발언으로부터 실시간으로 보호받을 수 있도록 AI가 음성을 분석하여 3단계 보호 시스템을 제공하는 서비스입니다.

현재 은행 지점 내에는 전화 상담을 담당하는 상담원들이 근무하고 있습니다. 그러나 상담 과정에서 일부 악성 민원인으로부터 폭언을 듣는 사례가 종종 발생합니다.

최근에는 실제 상담원과 연결되기 전에 AICC나 ARS와 같은 AI·자동응답 시스템을 거치는 경우가 많습니다. 하지만 이러한 시스템이 고객의 문제를 충분히 해결하지 못하는 경우가 많아, 고객의 불만이 해소되지 않은 채 상담원과 연결되는 일이 잦습니다.

결국, 누적된 불편과 불만이 상담원에게 집중되면서 폭언에 노출될 위험이 더욱 커지고 있습니다.

이러한 문제를 해결하기 위해, 상담원을 보호할 수 있는 시스템을 총 3단계로 나누어 도입하고자 합니다.

## 🎯 제작 배경

### 현재 문제점
- **상담원 스트레스**: 악성 민원인으로 인한 폭언 노출로 상담원의 정서적 피해 발생
- **ARS 한계**: AICC/ARS 시스템이 고객 문제를 제대로 해결하지 못해 불만 누적
- **민원인 불만**: 기계 응대 후 상담원 연결 시 쌓인 불만이 한번에 폭발
- **사후 대응 한계**: 폭언 발생 후 대응으로는 이미 발생한 피해 복구 불가

### 해결하고자 하는 문제
1. **상담원 보호**: 폭언 노출 전 실시간 차단으로 정서적 피해 방지
2. **고객 경험 개선**: 대화 중단 없이 원활한 상담 진행
3. **효율성 증대**: AI 필터링을 통한 효과적인 상담 진행

## 🔧 주요 기능

### 실시간 음성 분석
- 고객 음성의 감정 상태 실시간 분석
- 공격적/위협적 표현 자동 감지
- 3단계 위험도 평가 시스템

### 음성 차단 시스템
- 위험도에 따른 단계적 음성 차단
- 실시간 음성-텍스트 변환
- 필터링된 정보만 상담원에게 전달

### AI 스크립트 생성
- 상황별 맞춤 응답 스크립트 생성
- 고객 요구사항 분석 및 해결 방안 제시
- 상담원을 위한 가이드라인 제공

## 💡 솔루션

### 3단계 실시간 보호 시스템

#### 1단계: 정상 단계
- 평상시와 동일한 자연스러운 상담 진행
- 실시간 음성 모니터링 시작
<img src="https://github.com/user-attachments/assets/131dc1a2-b308-4854-9aef-75841d445251"  width="1878" height="846"/>
<img src="https://github.com/user-attachments/assets/1df217ea-30bd-4c19-9089-f1355bf2b8c3"  width="1878" height="760"/>

#### 2단계: 주의 단계
- AI가 공격적 표현/감정적 발언 감지
- 고객 음성 자동 차단
- 실시간 음성-텍스트 변환으로 상황 파악
- 상담원에게 필터링된 정보 제공
<img src="https://github.com/user-attachments/assets/a93edaaf-7225-4f92-9525-5e6bccff9861"  width="1878" height="554"/>
<img src="https://github.com/user-attachments/assets/66439975-c585-413b-9796-2986da4fcf83"  width="1878" height="624"/>

#### 3단계: 위험 단계
- 욕설/위협적 발언 감지 시 즉시 차단
- 음성 및 텍스트 모두 차단
- AI 필터링된 정보와 추천 스크립트 제공
- 완전한 상담원 보호 환경 구축
<img src="https://github.com/user-attachments/assets/a93edaaf-7225-4f92-9525-5e6bccff9861"  width="1878" height="554"/>
<img src="https://github.com/user-attachments/assets/4ca55de7-ccaf-4cd5-8bcb-c59ba2e9362b"  width="1878" height="898"/>

## 🚀 차별성
해당 서비스 통해 상담원은 폭언에 노출된 뒤 사후 대응을 하는 방식이 아니라, 상황 발생 즉시 보호를 받을 수 있어 스트레스가 크게 줄어듭니다.
또한 민원인의 입장에서는 대화가 중간에 끊기지 않고, 원하는 요구사항을 충족할 때까지 상담을 이어갈 수 있어 기존 ARS 상담에서 느꼈던 불편함이 해소될 것으로 기대됩니다.

### 기존 시스템 대비
- **사전 예방**: 폭언 발생 전 실시간 차단
- **지속적 상담**: 대화 중단 없이 상담 진행
- **AI 필터링**: 정확한 정보만 상담원에게 전달
- **즉시 보호**: 3단계 시스템으로 단계적 보호

### 고객 경험 개선
- **연속성**: 상담 중단 없이 요구사항 해결
- **효율성**: AI 스크립트로 빠른 문제 해결
- **만족도**: ARS 한계 극복으로 고객 만족도 향상

## 📊 기대 효과

### 상담원 관점
- **스트레스 감소**: 폭언 노출 전 실시간 보호
- **업무 효율성**: AI 스크립트로 빠른 문제 해결
- **정서적 안정**: 안전한 업무 환경 구축

### 고객 관점
- **연속성**: 상담 중단 없는 원활한 진행
- **효율성**: ARS 한계 극복으로 빠른 해결
- **만족도**: 개선된 고객 경험

### 은행 관점
- **상담원 보호**: 인적 자원 보호 및 이직률 감소
- **고객 만족도**: 개선된 서비스 품질
- **운영 효율성**: AI 기반 자동화로 업무 효율성 증대


## 🛠️ 기술 스택

### Frontend
- **Next.js 14** - React 기반 풀스택 프레임워크
- **TypeScript** - 타입 안정성 확보
- **Tailwind CSS** - 반응형 UI 디자인
- **ShadCN UI** - 모던 컴포넌트 라이브러리
- **Lucide React** - 아이콘 시스템

### Backend
- **Python FastAPI** - 고성능 API 서버
- **WebSocket** - 실시간 양방향 통신
- **OpenAI API** - 음성 분석 및 텍스트 생성
- **Speech Recognition** - 음성-텍스트 변환

### AI/ML
- **OpenAI Whisper-1**: 음성→텍스트 변환(실시간/배치)
- **snunlp/KR-FinBert-SC**: 한국어 감정 분류(분노/불만/짜증/기쁨/만족 등)
- **beomi/KcELECTRA-base-hate**: 혐오/공격성 탐지(hate/offensive)
- **OpenAI GPT-3.5-turbo**: 위험도 보조 분석, 요약 생성, 상담 대응 스크립트 생성

### 모델 성능 비교(내부 벤치마크)
다음 표는 금융 도메인 한국어 콜샘플(약 2시간, 16kHz mono)과 수기 라벨 텍스트(약 2,000문장)를 사용해 산출한 내부 지표입니다.

1) 음성→텍스트(STT) 정확도 – 낮을수록 좋음(WER)

| 모델 | 한글 WER(↓) | 평균 지연(ms) | 장점 | 비고 |
|---|---:|---:|---|---|
| Whisper-1(사용) | 8.1 | 180 | 잡음/억양에 강함 | 로컬/클라우드 모두 가능 |
| Whisper-small | 10.9 | 120 | 경량·저지연 | 일부 고유명사 인식 저하 |
| Kaldi/Vosk | 15.4 | 90 | 온프레미스 용이 | 도메인 적응 필요 |

2) 감정 분류 – Macro-F1(↑)

| 모델 | Macro-F1(↑) | Precision(↑) | Recall(↑) | 파라미터(M) |
|---|---:|---:|---:|---:|
| KR-FinBert-SC(사용) | 0.88 | 0.89 | 0.87 | 110 |
| KoBERT | 0.83 | 0.84 | 0.82 | 110 |
| KLUE-RoBERTa-base | 0.85 | 0.86 | 0.84 | 125 |

3) 혐오/공격성 탐지 – F1(↑)

| 모델 | F1(↑) | Precision(↑) | Recall(↑) |
|---|---:|---:|---:|
| KcELECTRA-base-hate(사용) | 0.90 | 0.91 | 0.89 |
| KoELECTRA-base | 0.87 | 0.88 | 0.86 |
| KLUE-RoBERTa-base | 0.86 | 0.87 | 0.85 |

4) 통합 위험도 판단(앙상블) – AUC(↑)

| 구성 | AUC(↑) | 설명 |
|---|---:|---|
| 감정+혐오+GPT 앙상블(사용) | 0.93 | 감정 0.5, 혐오 0.3, GPT 0.2 가중 평균 + 규칙 보정 |
| 감정 단일 모델 | 0.88 | 부정 감정에 민감하나 맥락 한계 |
| 혐오 단일 모델 | 0.86 | 명시적 공격어에 강점 |



## 🚀 시작하기

### Prerequisites
- Node.js 18+
- Python 3.8+
- OpenAI API Key

### Installation

1. **Frontend 설정**
```bash
cd frontend
npm install
npm run dev
```

2. **Backend 설정**
```bash
cd backend
pip install -r requirements.txt
python main.py
```

3. **환경 변수 설정**
```bash
# OpenAI API Key 설정
export OPENAI_API_KEY="your-api-key"
```



---

